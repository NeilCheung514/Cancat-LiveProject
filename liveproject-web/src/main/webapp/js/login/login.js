webpackJsonp([5],{"0vl4":function(t,e){},"1Qzz":function(t,e){},"3ykh":function(t,e){},"4WyJ":function(t,e,s){t.exports=s.p+"static/img/rl_top.35edfde.png"},EXyj:function(t,e,s){"use strict";var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-line"},[e("span",{staticClass:"tit",style:{fontSize:this.title.length>=10?"28px":"38px"}},[this._v(this._s(this.title))])])},staticRenderFns:[]};var a=s("VU/8")({props:["title"]},i,!1,function(t){s("0vl4")},null,null);e.a=a.exports},"Hzw/":function(t,e,s){"use strict";var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top-banner"},[e("img",{attrs:{src:s("4WyJ")}})])}]};var a=s("VU/8")(null,i,!1,function(t){s("IyM6")},null,null);e.a=a.exports},ICH3:function(t,e){},IyM6:function(t,e){},Ouqr:function(t,e,s){"use strict";var i={props:["keyValue","width","top","left"],data:function(){return{emails:[],currentSelectIndex:0,emailSource:["qq.com","163.com","126.com","gmail.com","foxmail.com","sina.com","yeah.net","sohu.com","outlook.com","aliyun.com","yahoo.com"]}},watch:{keyValue:function(){for(var t=0;t<this.emails.length;t++)if(this.emails[t]===this.keyValue)return void(this.emails=[]);this.keyValue.search("@")<=0&&(this.emails=[]);var e=[],s=[];if(this.keyValue.search("@")>0&&2==this.keyValue.split("@").length){for(t=0;t<this.emailSource.length;t++)e[t]=this.keyValue.split("@")[0]+"@"+this.emailSource[t];for(var i=0;i<e.length;i++)-1!=e[i].indexOf(this.keyValue)&&s.push(e[i]);this.emails=s}}},methods:{resetAutoData:function(){this.$emit("cb-value",{value:this.emails[this.currentSelectIndex]}),this.currentSelectIndex=0,this.emails[this.currentSelectIndex]==this.keyValue&&(this.emails=[])},selectEmail:function(t){this.currentSelectIndex=t,this.resetAutoData()},bindEvent:function(t){var e=this.emails.length;13===t.keyCode&&e&&this.resetAutoData(),38===t.keyCode&&e&&(this.currentSelectIndex--,this.currentSelectIndex<0&&(this.currentSelectIndex=e-1),this.username=this.emails[this.currentSelectIndex]),40===t.keyCode&&e&&(this.currentSelectIndex++,this.currentSelectIndex>e-1&&(this.currentSelectIndex=0),this.username=this.emails[this.currentSelectIndex])}},mounted:function(){document.addEventListener("keydown",this.bindEvent)}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!=t.emails.length?s("div",{staticClass:"autocomplete",style:{width:t.width,left:t.left,top:t.top}},[s("ul",t._l(t.emails,function(e,i){return s("li",{class:i===t.currentSelectIndex?"on":"",on:{click:function(e){t.selectEmail(i)}}},[t._v(t._s(e))])}))]):t._e()},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("ICH3")},"data-v-a32a16e6",null);e.a=n.exports},jeMz:function(t,e,s){"use strict";s.d(e,"b",function(){return i}),s.d(e,"d",function(){return a}),s.d(e,"f",function(){return n}),s.d(e,"c",function(){return r}),s.d(e,"i",function(){return o}),s.d(e,"g",function(){return l}),s.d(e,"h",function(){return p}),s.d(e,"a",function(){return d}),s.d(e,"e",function(){return h});var i={get:function(t){var e=""+document.cookie,s=e.indexOf(t+"=");if(-1==s||""==t)return"";var i=e.indexOf(";",s);return-1==i&&(i=e.length),unescape(e.substring(s+t.length+1,i))},set:function(t,e,s){s=void 0!==s?s:365;var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()+"; path=/; domain=.bilibili.com"},delete:function(t){this.set(t,"",-1)}},a=function(t){var e=window.location.href,s=e.substring(e.indexOf("?"),e.length).replace(/#\/$/,"").match(new RegExp("[?&]"+t+"=([^&]+)","i"));return null==s||s.length<0?"":s[1]},n=function(t){var e=t.replace(/^http:\/\/|:\/\/|\/\/|\//,"https://");return e.match(/^https:\/\//)?e:"https://"+e},r=function(t,e,s){if(!t)return t;var i=t.match(/(.*\.(jpg|jpeg|gif|png))(\?.*)?/),a=-1!=t.indexOf("/bfs/");if("gif"===i[2]||!a||!i)return t;var n=e&&s?"@"+e+"w_"+s+"h":"@",r=i[3]?i[3]:"";return c?i[1]+n+".webp"+r:i[1]+n+"."+i[2]+r},c=function(){try{return 0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}(),o=function(t){for(var e=t.substring(t.indexOf("?")+1,t.length).replace(/#\/$/,"").split("&"),s={},i=0;i<e.length;i++){var a=e[i].split("=");s[a[0]]=a[1]}return s},l=function(t,e){window.reportMsgObj&&(window.reportMsgObj[t]=void 0===e?t:e),window.reportObserver&&window.reportObserver.forceCommit&&window.reportObserver.forceCommit()},p=function(t){if(t.match(new RegExp(t[0],"g")).length===t.length)return!0;if(!(t.length<=10&&t.length>=6))return!1;for(var e=t[0],s=t[0],i=[t[0]],a=[t[0]],n=1;n<t.length;n++)e++,s--,i.push(e),a.push(s);var r=new RegExp(i.join(""),"g"),c=new RegExp(a.join(""),"g");return!!r.test(t)||(!!c.test(t)||void 0)},u=function(t,e){return new RegExp("\\b"+e+"\\b").test(t.className)},d=function(t,e){t.className?u(t,e)||(t.className+=" "+e):t.className=e},h=function(t,e){var s=new RegExp("\\b"+e+"\\b","g");u(t,e)&&(t.className=t.className.replace(s,"").replace(/^\s+|\s+$/g,"").replace(/\s+/g," "))}},mTzT:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),a=s("Hzw/"),n=s("EXyj"),r=s("jeMz"),c={components:{EmailSelection:s("Ouqr").a},data:function(){return{loginFlag:!0,isneedregister:!0,username:"",password:"",captcha:"",captchaSrc:"",keep:!0,snsErrorTips:"",usernameTip:"",pcPasswordTip:"",passwordTip:"",userAndPassError:!1,publicTip:"",captchaTip:"",isReloadCaptcha:!0,captchaType:0,gcObj:null,gcData:null,urlKey:"",bFlag:!1,iea:!1,ieb:!1,iec:!1,windowHeight:window.screen.height,gch5:!1}},watch:{username:function(){this.iea||(this.iea=!0)},password:function(){this.ieb||(this.ieb=!0)},captcha:function(){this.iec||(this.iec=!0)}},methods:{urlGetJson:function(t){for(var e=t.substring(t.indexOf("?")+1,t.length).split("&"),s={},i=0;i<e.length;i++){var a=e[i].split("=");s[a[0]]=a[1]}return s},changeInit:function(){this.passwordTip="",this.usernameTip="",this.password="",this.pcPasswordTip="",this.userAndPassError=!1},onUsernameInput:function(){this.usernameTip=this.username?"":"请输入注册时用的邮箱或者手机号呀"},onPasswordInput:function(){this.passwordTip=this.password?"":"喵，你没输入密码么？"},onCaptchaInput:function(){this.captchaTip=this.captcha?"":"请输入验证码"},onFocusCap:function(t){this.isReloadCaptcha&&(this.captcha="",this.reloadCaptcha(),this.isReloadCaptcha=!1)},checkoutEmpty:function(){this.onUsernameInput(),this.onPasswordInput(),this.onCaptchaInput(),this.publicTip="",this.pcPasswordTip="",this.emails=[],this.userAndPassError=!1},bindEvent:function(t){13===t.keyCode&&this.username&&this.password&&this.captcha&&this.login()},reloadCaptcha:function(){this.captchaSrc="https://passport.bilibili.com/captcha?r="+Math.random()},login:function(){this.checkoutEmpty();var t=this;if(this.username&&this.password&&this.captcha){if(this.bFlag)return;if(t.isMobile&&!t.gch5)return void(t.gch5=!0);var e=decodeURIComponent(Object(r.d)("gourl")),s={},i=t.encryptPassword(t.password),a={cType:this.isMobile?1:2,vcType:1,captcha:t.captcha,user:t.username,pwd:i,keep:t.keep,gourl:e||(document.referrer||"")};if(2===t.captchaType){if(!t.gcData)return void(t.captchaTip="请先完成验证");s=$.extend(a,t.gcData)}else s=a;this.bFlag=!0,$.ajax({url:"https://passport.bilibili.com/web/login",dataType:"json",type:"POST",data:s,success:function(e){if(t.bFlag=!1,e){var s=e.code,i=e.data,a=e.message;switch(reportMsgObj.login_success=s,window.reportObserver&&window.reportObserver.forceCommit&&window.reportObserver.forceCommit(),s){case-105:t.captchaTip=a,t.isReloadCaptcha=!0;break;case-629:t.isMobile?t.usernameTip=a:t.pcPasswordTip=a,t.userAndPassError=!0;break;case-628:t.passwordTip=a;break;case-652:t.usernameTip=a;break;case 0:i.isLogin?window.location.href=i.gourl:window.location.href=i;break;case-2002:t.captchaType=1,t.captcha="";break;case-2100:var n=e.data,r="",c=0;for(var o in n)r+=(c>0?"&":"?")+o+"="+n[o],c++;t.isMobile?n.tel?window.location.href="https://passport.bilibili.com/mobile/verifytel_h5.html"+r:!n.tel&&n.email?window.location.href="https://passport.bilibili.com/mobile/verifymail_h5.html"+r:window.location.href="https://passport.bilibili.com/mobile/verifyresult_h5.html"+r:n.tel?window.location.href="https://passport.bilibili.com/member/checklogin-phone.html"+r:!n.tel&&n.email?window.location.href="https://passport.bilibili.com/member/checklogin-mail.html"+r:window.location.href="https://passport.bilibili.com/member/loginsuccess.html"+r+"&type=2";break;default:t.publicTip=a}2===t.captchaType&&0!=s&&(t.gcObj.refresh(),t.gcData=null,t.isMobile&&(t.gch5=!1))}},error:function(){t.bFlag=!1}})}else 2===t.captchaType&&(t.gcObj.refresh(),t.gcData=null,t.isMobile&&(t.gch5=!1))},snsLogin:function(t){var e=this,s=decodeURIComponent(Object(r.d)("gourl")),i=s||(document.referrer||"");this.getCsrf(function(s){$.ajax({url:"https://passport.bilibili.com/login/"+t,dataType:"json",type:"POST",data:{gourl:i,csrf:s}}).done(function(s){reportMsgObj.snsback_success=t+"_"+s.status,window.reportObserver&&window.reportObserver.forceCommit&&window.reportObserver.forceCommit(),s.status?window.location.href=s.data:e.snsErrorTips=s.message||"未知错误"})})},getCsrf:function(t){var e=r.b.get("_jct");e?t(e):$.ajax({url:"https://passport.bilibili.com/captcha/dfc",dataType:"json",type:"POST"}).done(function(s){e=s.data.dfc,t(e)})},encryptPassword:function(t,e){var s=this,i=!1;return $.ajax({url:"https://passport.bilibili.com/login?act=getkey&r="+Math.random(),async:!1}).done(function(e){e&&e.error&&(s.publicTip="登录失败，服务端出现异常",t=null);var a=new JSEncrypt;a.setPublicKey(e.key);var n=a.encrypt(e.hash+t);t=n,i=!0}),i?t:""},initCaptcha:function(){var t=this;$.ajax({url:"https://passport.bilibili.com/captcha/gc",dataType:"json",type:"GET",cache:!1,data:{cType:this.isMobile?1:2,vcType:2}}).done(function(e){0===e.code?(t.captchaType=2,t.captcha="gc",t.initGeeCode(e.data)):(t.captchaType=1,t.captcha=""),reportMsgObj.geetest_success=e.code})},changeGee:function(){var t=this;$.ajax({url:"https://passport.bilibili.com/captcha/gc",dataType:"json",type:"GET",cache:!1,data:{cType:this.isMobile?1:2,vcType:2,useOrd:!0}}).done(function(e){-307!==e.code?(t.initCaptcha(),t.captchaType=2,t.captcha="gc"):(t.captchaType=1,t.captcha="")})},initGeeCode:function(t){var e=this;$.getScript("https://static.geetest.com/static/tools/gt.js",function(){initGeetest&&initGeetest({gt:t.gt,challenge:t.challenge,width:"100%",product:"float",offline:!t.success},function(t){e.gcObj=t,e.isMobile?document.getElementById("gc-box-h5").innerHTML="":document.getElementById("gc-box").innerHTML="",t.appendTo(e.isMobile?"#gc-box-h5":"#gc-box"),t.onSuccess(function(){var s=t.getValidate();e.gcData={challenge:s.geetest_challenge,validate:s.geetest_validate,seccode:s.geetest_seccode,vcType:2},e.captchaTip="",setTimeout(function(){e.login()},1e3)}),t.onError(function(){e.changeGee()})})})},getNewUname:function(t){this.username=t.value}},mounted:function(){var t=this;!!window.ActiveXObject||window;$(".username input").on("input propertychange",function(){t.iea&&t.onUsernameInput()}),$(".password input").on("input propertychange",function(){t.ieb&&t.onPasswordInput()}),$(".vdcode input").on("input propertychange",function(){t.iec&&t.onCaptchaInput()}),document.addEventListener("keydown",this.bindEvent),$.ajax({url:"//api.bilibili.com/nav",type:"get",dataType:"jsonp",data:{type:"jsonp"}}).done(function(t){if(t&&t.data&&t.data.isLogin){var e=decodeURIComponent(Object(r.d)("gourl")),s=document.referrer,i=e||s,a=new RegExp("^http(s)?://([a-z-0-9A-Z])*.?(bilibili.(com|tv|cn)|biligame.(com|cn))($|/|\\\\)");i&&-1==i.indexOf("passport.bilibili.com/login")&&a.test(i)?window.location.href=i:window.location.href="//www.bilibili.com"}});var e=window.location.toString(),s=this.urlGetJson(e);this.urlKey=[],"game"==s.type&&this.isMobile?(this.loginFlag=!1,this.urlKey.push("type=game")):"gamenoregister"==s.type&&this.isMobile&&(this.loginFlag=!1,this.isneedregister=!1);var i=s.gourl,a=document.referrer;(e=i||a||"")&&this.urlKey.push("gourl="+e),this.urlKey=this.urlKey.join("&"),this.urlKey.length&&(this.urlKey="?"+this.urlKey),this.initCaptcha()}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-login"},[t.isMobile?t._e():s("div",{staticClass:"input-box"},[s("ul",[s("li",{staticClass:"item username status-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],class:t.usernameTip||t.userAndPassError?"error":"",attrs:{type:"text",value:"",placeholder:"你的手机号/邮箱",id:"login-username",maxlength:"50",autocomplete:"off"},domProps:{value:t.username},on:{input:[function(e){e.target.composing||(t.username=e.target.value)},t.changeInit]}}),t._v(" "),s("span",{class:{status:!0,error:t.usernameTip||t.userAndPassError}}),t._v(" "),s("div",{staticClass:"text clearfix"},[s("p",{staticClass:"tips"},[t._v(t._s(t.usernameTip))])]),t._v(" "),s("email-selection",{attrs:{keyValue:t.username,top:"48px"},on:{"cb-value":t.getNewUname}})],1),t._v(" "),s("li",{staticClass:"item password status-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:t.passwordTip||t.userAndPassError?"error":"",attrs:{type:"password",placeholder:"密码",id:"login-passwd"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("span",{class:{status:!0,error:t.passwordTip||t.userAndPassError}}),t._v(" "),s("div",{staticClass:"text clearfix"},[s("p",{staticClass:"tips"},[t._v(t._s(t.passwordTip))])])]),t._v(" "),1===t.captchaType?s("li",{staticClass:"item vdcode"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],class:t.captchaTip?"error":"",attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.captcha},on:{focus:t.onFocusCap,input:function(e){e.target.composing||(t.captcha=e.target.value)}}}),t._v(" "),t.captchaSrc?s("img",{staticClass:"captcha",attrs:{src:t.captchaSrc,alt:"点击刷新"},on:{click:t.reloadCaptcha}}):t._e(),t._v(" "),t.captchaSrc?s("a",{on:{click:t.reloadCaptcha}},[t._v("换一张")]):t._e(),t._v(" "),t.captchaTip?s("div",{staticClass:"text clearfix"},[s("p",{staticClass:"tips"},[t._v(t._s(t.captchaTip))])]):t._e()]):t._e(),t._v(" "),2===t.captchaType?s("li",{staticClass:"item gc clearfix"},[s("div",{attrs:{id:"gc-box"}},[t.gcObj?t._e():s("div",{staticClass:"spinner"},[s("div",{staticClass:"bounce1"}),t._v(" "),s("div",{staticClass:"bounce2"}),t._v(" "),s("div",{staticClass:"bounce3"})])]),t._v(" "),t.captchaTip?s("div",{staticClass:"text clearfix"},[s("p",{staticClass:"tips"},[t._v(t._s(t.captchaTip))])]):t._e()]):t._e(),t._v(" "),s("li",{staticClass:"remember"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keep,expression:"keep"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.keep)?t._i(t.keep,null)>-1:t.keep},on:{change:function(e){var s=t.keep,i=e.target,a=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&(t.keep=s.concat([null])):n>-1&&(t.keep=s.slice(0,n).concat(s.slice(n+1)))}else t.keep=a}}}),t._v("\n\t\t\t\t\t\t记住我\n\t\t\t\t\t\t"),s("span",[t._v("不是自己的电脑上不要勾选此项")]),t._v(" "),s("a",{staticClass:"forget-password",attrs:{href:"https://passport.bilibili.com/resetpwd"}},[t._v("忘记密码?")]),t._v(" "),2===t.captchaType?s("a",{staticClass:"not-checkout",attrs:{target:"_blank",href:"//www.bilibili.com/blackboard/help.html#%E8%B4%A6%E5%8F%B7%E7%9B%B8%E5%85%B3"}},[t._v("无法验证?")]):t._e()]),t._v(" "),t.publicTip?s("div",{staticClass:"text clearfix"},[s("p",{staticClass:"tips"},[t._v(t._s(t.publicTip))])]):t._e(),t._v(" "),t.pcPasswordTip?s("div",{staticClass:"text clearfix"},[s("p",{staticClass:"tips"},[t._v(t._s(t.pcPasswordTip))])]):t._e()]),t._v(" "),s("li",{staticClass:"btn-box"},[s("a",{staticClass:"btn btn-login",on:{click:t.login}},[t._v("登录")]),t._v(" "),s("a",{staticClass:"btn btn-reg",attrs:{href:"https://passport.bilibili.com/register/phone.html"}},[t._v("注册")])]),t._v(" "),s("li",{staticClass:"sns"},[s("a",{staticClass:"btn weibo",on:{click:function(e){t.snsLogin("weibo")}}},[t._v("微博账号登录")]),t._v(" "),s("a",{staticClass:"btn qq",on:{click:function(e){t.snsLogin("qq")}}},[t._v("QQ账号登录")])]),t._v(" "),t.snsErrorTips?s("li",{staticClass:"sns-tips"},[t._v("操作失败："+t._s(t.snsErrorTips))]):t._e()])]),t._v(" "),t.isMobile?s("div",{staticClass:"con-h5"},[s("header",[s("a",{staticClass:"logo",attrs:{href:t.loginFlag?"http://www.bilibili.com":"javascript:;"}}),t._v(" "),s("a",{staticClass:"logoText"},[t._v("登录")])]),t._v(" "),s("div",{staticClass:"form"},[s("ul",[s("li",{staticClass:"item username"},[s("div",{staticClass:"input-wrp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],class:t.usernameTip||t.userAndPassError?"error":"",attrs:{type:"text",value:"",placeholder:"你的手机号/邮箱",id:"login-username",maxlength:"50",autocomplete:"off"},domProps:{value:t.username},on:{input:[function(e){e.target.composing||(t.username=e.target.value)},t.changeInit]}})]),t._v(" "),s("div",{staticClass:"text clearfix"},[s("p",{staticClass:"tips"},[t._v(t._s(t.usernameTip))])])]),t._v(" "),s("li",{staticClass:"item password"},[s("div",{staticClass:"input-wrp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:t.passwordTip||t.userAndPassError?"error":"",attrs:{type:"password",value:"",placeholder:"密码",id:"login-passwd"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"text clearfix"},[s("p",{staticClass:"tips"},[t._v(t._s(t.passwordTip))]),t._v(" "),t.loginFlag||t.isneedregister?s("a",{staticClass:"forget-password",attrs:{href:"https://passport.bilibili.com/resetpwd"}},[t._v("忘记密码?")]):t._e()])]),t._v(" "),s("li",{staticClass:"item vdcode"},[1===t.captchaType?s("div",{staticClass:"input-wrp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],class:t.captchaTip?"error":"",attrs:{type:"text",value:"",placeholder:"验证码"},domProps:{value:t.captcha},on:{focus:t.onFocusCap,input:function(e){e.target.composing||(t.captcha=e.target.value)}}}),t._v(" "),t.captchaSrc?s("img",{staticClass:"captcha",attrs:{src:t.captchaSrc,alt:"图片验证码"},on:{click:t.reloadCaptcha}}):t._e()]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.captchaTip||t.publicTip,expression:"captchaTip || publicTip"}],staticClass:"text clearfix"},[s("p",{staticClass:"tips"},[t._v(t._s(t.captchaTip))]),t._v(" "),s("p",{staticClass:"tips"},[t._v(t._s(t.publicTip))])])]),t._v(" "),s("li",{staticClass:"sns-tips"},[t.snsErrorTips?s("p",[t._v("操作失败："+t._s(t.snsErrorTips))]):t._e()]),t._v(" "),s("li",{staticClass:"btn-box"},[s("a",{staticClass:"btn btn-login",on:{click:t.login}},[t._v("立即登录")]),t._v(" "),t.loginFlag||t.isneedregister?s("a",{staticClass:"btn btn-reg",attrs:{href:"https://passport.bilibili.com/register/phone.html"+t.urlKey}},[t._v("注册")]):t._e()]),t._v(" "),t.loginFlag?s("li",{staticClass:"sns"},[t._m(0),t._v(" "),s("a",{staticClass:"btn weibo",on:{click:function(e){t.snsLogin("weibo")}}}),t._v(" "),s("a",{staticClass:"btn qq",on:{click:function(e){t.snsLogin("qq")}}})]):t._e()])]),t._v(" "),2===t.captchaType?s("div",{directives:[{name:"show",rawName:"v-show",value:t.gch5,expression:"gch5"}],staticClass:"geetest clearfix",style:"height:"+t.windowHeight+"px;"},[s("div",{staticClass:"pop"},[s("div",{attrs:{id:"gc-box-h5"}}),t._v(" "),s("p",{staticClass:"tips"},[t._v(t._s(t.gcData?"验证通过，登录中……":"请完成上方的验证"))]),t._v(" "),s("i",{staticClass:"btn-close",on:{click:function(e){t.gch5=!1}}})])]):t._e()]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"splitter"},[e("span",{staticClass:"title"},[this._v("第三方合作网站登录")])])}]};var l=s("VU/8")(c,o,!1,function(t){s("vUfQ")},null,null).exports,p={data:function(){return{qrcodeStatus:"normal",showTips:!1,loop:null,cd:null,key:null,refer:null,cdTime:18e4,loopTime:3e3}},mounted:function(){this.getQrcode()},methods:{showAndHideTips:function(t){"normal"==this.qrcodeStatus&&("mouseenter"===t.type&&(this.showTips=!0),"mouseleave"===t.type&&(this.showTips=!1))},getQrcode:function(){var t=this;$.ajax({url:"https://passport.bilibili.com/qrcode/getLoginUrl",dataType:"json"}).done(function(e){if(e.status){t.refer?(t.refer.clear(),t.refer.makeCode(e.data.url)):t.$nextTick(function(){t.refer=new QRCode(t.$refs.qrcode,{text:e.data.url,width:140,height:140})}),t.key=e.data.oauthKey;var s=decodeURIComponent(Object(r.d)("gourl"));clearTimeout(t.cd),t.cd=setTimeout(t.expire,t.cdTime),clearInterval(t.loop),t.loop=setInterval(function(){$.ajax({url:"https://passport.bilibili.com/qrcode/getLoginInfo",dataType:"json",type:"POST",data:{oauthKey:t.key,gourl:s||(document.referrer||"")}}).done(function(e){e.status?(reportMsgObj.qrcodescan_login="success",window.reportObserver&&window.reportObserver.forceCommit&&window.reportObserver.forceCommit(),window.location.href=e.data.url):e.status||-2!=e.message?e.status||-5!=e.data||t.scanSucess():t.expire()})},t.loopTime)}})},expire:function(){clearInterval(this.loop),this.qrcodeStatus="overdue"},scanSucess:function(){this.qrcodeStatus="success"},reloadQrcode:function(){this.qrcodeStatus="normal",this.getQrcode()}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"qrcode-login"},[s("div",{staticClass:"qrcode-con"},[s("i",{staticClass:"tv-icon"}),t._v(" "),s("div",{staticClass:"qrcode-box",on:{mouseenter:t.showAndHideTips,mouseleave:t.showAndHideTips}},[s("div",{class:t.showTips?"qrcode-tips mouseenter":"qrcode-tips"}),t._v(" "),s("div",{ref:"qrcode",staticClass:"qrcode-img"}),t._v(" "),"normal"!=t.qrcodeStatus?s("div",{staticClass:"status"},["overdue"===t.qrcodeStatus?s("div",{staticClass:"overdue",on:{click:t.reloadQrcode}},[t._v("点击刷新")]):t._e(),t._v(" "),"success"===t.qrcodeStatus?s("div",{staticClass:"success"}):t._e()]):t._e()])]),t._v(" "),s("div",{staticClass:"qrcode-footer"},["normal"===t.qrcodeStatus?s("p",{staticClass:"status-txt"},[t._v("扫描二维码登录")]):t._e(),t._v(" "),"overdue"===t.qrcodeStatus?s("p",{staticClass:"status-txt"},[t._v("二维码已失效")]):t._e(),t._v(" "),"success"===t.qrcodeStatus?s("p",{staticClass:"status-txt"},[t._v("扫描成功")]):t._e(),t._v(" "),"success"!=t.qrcodeStatus?s("p",{staticClass:"app-link"},[t._v("请使用 "),s("a",{attrs:{href:"//app.bilibili.com/",target:"_blank"}},[t._v("哔哩哔哩客户端")]),s("br"),t._v("扫码登录"),s("br"),t._v("或扫码下载APP")]):t._e(),t._v(" "),"success"===t.qrcodeStatus?s("p",{staticClass:"suc-txt"},[t._v("请在手机上确认是否授权")]):t._e()])])},staticRenderFns:[]};var d=s("VU/8")(p,u,!1,function(t){s("1Qzz")},null,null).exports,h={components:{TopBanner:a.a,TitleLine:n.a,FormLogin:l,QrcodeLogin:d}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-app"},[this.isMobile?e("form-login"):e("div",[e("top-banner"),this._v(" "),e("title-line",{attrs:{title:"登录"}}),this._v(" "),e("div",{staticClass:"login-box clearfix"},[e("div",{staticClass:"login-left"},[e("qrcode-login")],1),this._v(" "),e("div",{staticClass:"line"}),this._v(" "),e("div",{staticClass:"login-right"},[e("form-login")],1)])],1)],1)},staticRenderFns:[]};var m=s("VU/8")(h,v,!1,function(t){s("3ykh")},null,null).exports;s("hKoQ").polyfill(),i.a.config.productionTip=!1,i.a.prototype.isMobile=/AppleWebKit.*Mobile.*/i.test(navigator.userAgent),new i.a({el:"#login-app",components:{App:m}})},vUfQ:function(t,e){}},["mTzT"]);